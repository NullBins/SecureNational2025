---

## **[The Master Guide] 2025 ì‚¬ì´ë²„ë³´ì•ˆ ì œ1ê³¼ì œ ìµœì¢… ê³µëµì§‘**

### **Mission Briefing: ì‘ì „ ê°œìš”**

íŒŒíŠ¸ë„ˆ, ì´ì „ì˜ ëª¨ë“  ê¸°ì–µì€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ê¸ˆë¶€í„° ìš°ë¦¬ëŠ” ì´ ë¬¸ì„œ í•˜ë‚˜ë§Œìœ¼ë¡œ ëª¨ë“  ê³¼ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ê° ë¯¸ì…˜ì€ ì±„ì  ê¸°ì¤€ê³¼ ì§ì ‘ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©°, ëª¨ë“  ëª…ë ¹ì–´ì™€ ì„¤ì •ê°’ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì§€ì‹œì— ë”°ë¼ ì •í™•í•˜ê²Œ ì„ë¬´ë¥¼ ìˆ˜í–‰í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

---

### **Mission 1: ê¸°ë°˜ êµ¬ì¶• - ì„œë²„ ë„¤íŠ¸ì›Œí¬ ì„¤ì •**

**ğŸ¯ ëª©í‘œ:** `server` VMì´ ê³¼ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê³ ì • IP ì£¼ì†Œë¥¼ ê°–ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. (ì±„ì  í•­ëª© 1-1)

1.  **`server` VM ê³ ì • IP ì„¤ì •:**
    *   `server` VMì— `kolo_user` ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
    *   ğŸ’¡ **íŒ:** ì„¤ì • ì „ `ip a` ëª…ë ¹ìœ¼ë¡œ ìì‹ ì˜ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„(ì˜ˆ: `ens33`)ì„ ë¨¼ì € í™•ì¸í•˜ì„¸ìš”.
    *   í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Netplan ì„¤ì • íŒŒì¼ì„ ì—½ë‹ˆë‹¤.
        ```bash
        sudo nano /etc/netplan/01-network-manager-all.yaml
        ```
    *   ê¸°ì¡´ ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ê³  ì•„ë˜ ë‚´ìš©ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. (VMware Host-only ë„¤íŠ¸ì›Œí¬ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ëŠ” ë³´í†µ `.1`ì…ë‹ˆë‹¤.)
        ```yaml
        network:
          version: 2
          renderer: networkd
          ethernets:
            ens33: # í™•ì¸í•œ ì‹¤ì œ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ìœ¼ë¡œ ë³€ê²½
              dhcp4: no
              addresses: [192.168.127.129/24]
              gateway4: 192.168.127.1
              nameservers:
                addresses: [8.8.8.8]
        ```
    *   ì €ì¥(`Ctrl+O`, `Enter`) í›„ ì¢…ë£Œ(`Ctrl+X`)í•˜ê³ , ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„¤ì •ì„ ì ìš©í•©ë‹ˆë‹¤.
        ```bash
        sudo netplan apply
        ```

2.  **âœ… í™•ì¸:**
    *   `ifconfig ens33` (ë˜ëŠ” `ip a show ens33`) ëª…ë ¹ì–´ë¡œ `inet 192.168.127.129`ê°€ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    *   `HOST` PCì˜ CMD ì°½ì—ì„œ `ping 192.168.127.129`ë¥¼ ì‹¤í–‰í•˜ì—¬ í†µì‹ ì´ ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

---

### **Mission 2: ë…ë¦½ í™˜ê²½ êµ¬ì¶• - Docker ë„¤íŠ¸ì›Œí¬ ë° ì»¨í…Œì´ë„ˆ ìƒì„±**

**ğŸ¯ ëª©í‘œ:** `www`ì™€ `kolodb`ê°€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•  Docker í™˜ê²½ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. (ì±„ì  í•­ëª© 1-2)

1.  **Docker ë„¤íŠ¸ì›Œí¬ ìƒì„±:**
    *   `server` VM í„°ë¯¸ë„ì—ì„œ `www`ì™€ `kolodb`ê°€ ì„œë¡œ í†µì‹ í•  ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        ```bash
        sudo docker network create --subnet=192.168.127.0/24 kolo-net
        ```

2.  **ê¸°ì¡´ MariaDB ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… (ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„):**
    *   ê¸°ì¡´ `server`ì—ì„œ ìš´ì˜ ì¤‘ì¸ ê²Œì‹œíŒ DB(`midsv`)ë¥¼ ë°±ì—… íŒŒì¼(`midsv_backup.sql`)ë¡œ ë§Œë“­ë‹ˆë‹¤.
        ```bash
        sudo mysqldump -u root -p midsv > midsv_backup.sql
        ```
    *   íŒ¨ìŠ¤ì›Œë“œë¥¼ ë¬¼ì–´ë³´ë©´ `KoloSecu@)25`ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

3.  **`kolodb` (MariaDB) ì»¨í…Œì´ë„ˆ ìƒì„± ë° DB ë³µì› (í•­ëª© 3):**
    *   MariaDB Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ `kolodb` ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        ```bash
        sudo docker run -d \
        --name kolodb \
        --network kolo-net \
        --ip 192.168.127.10 \
        -e MARIADB_ROOT_PASSWORD=user01 \
        --restart always \
        -p 3306:3306 \
        mariadb
        ```
    *   ìƒì„±í•œ ë°±ì—… íŒŒì¼ì„ ì‹¤í–‰ ì¤‘ì¸ `kolodb` ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
        ```bash
        sudo docker cp midsv_backup.sql kolodb:/midsv_backup.sql
        ```
    *   `kolodb` ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ì—¬ ë°±ì—… íŒŒì¼ì„ ë³µì›í•©ë‹ˆë‹¤.
        ```bash
        sudo docker exec -it kolodb bash
        # --- ì§€ê¸ˆë¶€í„°ëŠ” ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ---
        mariadb -u root -puser01 -e "CREATE DATABASE midsv;"
        mariadb -u root -puser01 midsv < midsv_backup.sql
        exit
        # --- ì»¨í…Œì´ë„ˆì—ì„œ ë¹ ì ¸ë‚˜ì˜´ ---
        ```

4.  **`www` (Tomcat) ì»¨í…Œì´ë„ˆ ìƒì„± (í•­ëª© 4):**
    *   Tomcat Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ `www` ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•©ë‹ˆë‹¤. `server`ì— ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜(`jboard.war` ë˜ëŠ” ìœ ì‚¬í•œ ì´ë¦„)ì„ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬í•´ì•¼ í•©ë‹ˆë‹¤.
    *   ğŸ’¡ **íŒ:** ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì˜ ìœ„ì¹˜ëŠ” `/var/lib/tomcat9/webapps/` ì•„ë˜ì— ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. `ROOT.war` ì™€ ê°™ì€ ì´ë¦„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        ```bash
        sudo docker run -d \
        --name www \
        --network kolo-net \
        --ip 192.168.127.20 \
        --restart always \
        -p 8080:8080 \
        -v /var/lib/tomcat9/webapps/jboard.war:/usr/local/tomcat/webapps/ROOT.war \
        tomcat:9
        ```
    *   **[ì¤‘ìš”]** `www`ì˜ DB ì—°ê²° ì •ë³´ë¥¼ `kolodb`ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì˜ ì„¤ì • íŒŒì¼(ì˜ˆ: `WEB-INF/classes/db.properties`)ì„ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ê³¼ì •ì´ë©°, ê³¼ì œì—ì„œëŠ” ì´ë¯¸ì§€ê°€ ì‚¬ì „ êµ¬ì„±ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ë§Œì•½ ìˆ˜ë™ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤ë©´, ì»¨í…Œì´ë„ˆ ìƒì„± ì „ ì›ë³¸ `.war` íŒŒì¼ì˜ ì••ì¶•ì„ í’€ì–´ ìˆ˜ì • í›„ ë‹¤ì‹œ ì••ì¶•í•˜ê±°ë‚˜, ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í›„ `docker exec`ë¡œ ì ‘ì†í•˜ì—¬ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.

---

### **Mission 3: ìµœì¢… ê²€ì¦ - ì±„ì  ê¸°ì¤€ ì‹œë®¬ë ˆì´ì…˜**

**ğŸ¯ ëª©í‘œ:** ì±„ì ê´€ì˜ ì…ì¥ì—ì„œ ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì™„ë²½í•˜ê²Œ ë™ì‘í•˜ëŠ”ì§€ ìµœì¢… í™•ì¸í•©ë‹ˆë‹¤.

1.  **âœ… ì„œë²„ ë° ì»¨í…Œì´ë„ˆ êµ¬ì„± í™•ì¸ (í•­ëª© 1):**
    *   `ifconfig` ë˜ëŠ” `ip a`: `ens33`ì— `192.168.127.129`ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸.
    *   `sudo docker ps`: `www`ì™€ `kolodb` ì»¨í…Œì´ë„ˆê°€ `Up` ìƒíƒœë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸.

2.  **âœ… ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸ (í•­ëª© 2):**
    *   **`HOST` PCì˜ CMD ì°½**ì—ì„œ ì•„ë˜ 3ê°œì˜ ping í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        ```cmd
        ping 192.168.127.129  # server ì—°ê²°
        ping 192.168.127.20   # www ì—°ê²°
        ping 192.168.127.10   # kolodb ì—°ê²°
        ```
    *   **Expected Result:** ì„¸ í…ŒìŠ¤íŠ¸ ëª¨ë‘ ì†ì‹¤ ì—†ì´(0% loss) ì„±ê³µí•´ì•¼ í•©ë‹ˆë‹¤.

3.  **âœ… MariaDB ì´ì „ í™•ì¸ (í•­ëª© 3):**
    *   `server` í„°ë¯¸ë„ì—ì„œ `kolodb` ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ì—¬ DB ëª©ë¡ì„ í™•ì¸í•©ë‹ˆë‹¤.
        ```bash
        sudo docker exec -it kolodb mariadb -u root -puser01
        # --- ì»¨í…Œì´ë„ˆ ë‚´ë¶€ MariaDB ì ‘ì† ---
        show databases;
        ```
    *   **Expected Result:** `midsv` ë°ì´í„°ë² ì´ìŠ¤ê°€ ëª©ë¡ì— ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.
    *   `server`ì˜ ë¡œì»¬ MariaDBì—ë„ ì ‘ì†í•˜ì—¬ ë™ì¼í•˜ê²Œ `show databases;`ë¥¼ ì‹¤í–‰í•˜ê³ , ë‘ ëª©ë¡ì´ ë™ì¼í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.

4.  **âœ… ì„œë¹„ìŠ¤ ë™ì‘ ë° ë…ë¦½ì„± í™•ì¸ (í•­ëª© 4-1, 4-2):**
    1.  **ì›¹ í˜ì´ì§€ ì ‘ì†:** `HOST` PCì˜ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì•„ë˜ ë‘ ì£¼ì†Œë¡œ ê°ê° ì ‘ì†í•©ë‹ˆë‹¤.
        *   `http://192.168.127.129:8080` (server ê²Œì‹œíŒ)
        *   `http://192.168.127.20:8080` (www ê²Œì‹œíŒ)
    2.  **Expected Result:** ë‘ í˜ì´ì§€ ëª¨ë‘ ë™ì¼í•œ ì´ˆê¸° ê²Œì‹œë¬¼ ëª©ë¡ì„ ê°€ì§„ '2025 SECURE BOARD'ê°€ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.
    3.  **ë…ë¦½ì„± í…ŒìŠ¤íŠ¸:**
        *   `server` ê²Œì‹œíŒ(`...129:8080`)ì—ì„œ "ê²Œì‹œê¸€ ì¶”ê°€í•˜ê¸°"ë¥¼ ëˆŒëŸ¬ **"ë¡œì»¬ DB í…ŒìŠ¤íŠ¸"** ë¼ëŠ” ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.
        *   `www` ê²Œì‹œíŒ(`...20:8080`) íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ `Ctrl+F5`ë¡œ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.
    4.  **Expected Result:** `www` ê²Œì‹œíŒì—ëŠ” **"ë¡œì»¬ DB í…ŒìŠ¤íŠ¸" ê¸€ì´ ë³´ì´ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.**
        *   ë°˜ëŒ€ë¡œ `www` ê²Œì‹œíŒì— **"ë„ì»¤ DB í…ŒìŠ¤íŠ¸"** ê¸€ì„ ì‘ì„±í•˜ê³  `server` ê²Œì‹œíŒì„ ìƒˆë¡œê³ ì¹¨í–ˆì„ ë•Œë„ ê¸€ì´ ë³´ì´ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.

5.  **âœ… ìë™ ì‹¤í–‰ í™•ì¸ (í•­ëª© 4-3):**
    1.  `server` VMì„ ì¬ë¶€íŒ…í•©ë‹ˆë‹¤: `sudo reboot`
    2.  ì¬ë¶€íŒ… ì™„ë£Œ í›„ ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì—¬ Docker ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
        ```bash
        sudo docker ps
        ```
    3.  **Expected Result:** `www`ì™€ `kolodb` ì»¨í…Œì´ë„ˆê°€ ë³„ë„ ì¡°ì¹˜ ì—†ì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ `Up` ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.
    4.  `HOST` PC ë¸Œë¼ìš°ì €ì—ì„œ `http://192.168.127.20:8080`ì— ì ‘ì†í•˜ì—¬, ì´ì „ì— ì‘ì„±í–ˆë˜ **"ë„ì»¤ DB í…ŒìŠ¤íŠ¸"** ê¸€ì´ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

---
